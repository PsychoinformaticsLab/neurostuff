openapi: 3.0.0
info:
  title: neurostuff draft api
  version: '1.0'
  description: Query dataset and meta-analyses
servers:
  - url: 'http://localhost:3000'
paths:
  '/datasets/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: Get User Info by User ID
      tags:
        - datasets
      responses:
        '200':
          description: Dataset found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dataset'
              examples: {}
        '404':
          description: Dataset Not Found
      description: Retrieve the information of a dataset with the matching dataset ID.
      parameters: []
    put:
      summary: ''
      responses:
        '200':
          description: OK
      description: Update/Create Dataset
  '/studies/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags:
        - studies
      responses:
        '200':
          description: Study Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/study'
              examples:
                autogenerated example:
                  value:
                    '@id': 'http://neurostuff.org/api/studies/3SLFqPmGJVsC'
                    '@type': Study
                    analysis: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
                    created_at: '2021-01-14T03:33:07.996179+00:00'
                    doi: 10.1016/S0926-6410(97)00020-7
                    name: 'Functional magnetic resonance imaging of category-specific cortical activation: evidence for semantic maps.'
                    '@context':
                      '@vocab': 'http://neurostuff.org/nimads/'
                    metadata:
                      DOI: string
                      acquisition_orientation: string
                      add_date: '2019-08-24T14:15:22Z'
                      authors: string
                      autocorrelation_model: string
                      b0_unwarping_software: string
                      communities:
                        - null
                      contributors: string
                      description: string
                      doi_add_date: '2019-08-24T14:15:22Z'
                      download_url: 'http://example.com'
                      full_dataset_url: 'http://example.com'
                      functional_coregistration_method: string
                      group_description: string
                      group_estimation_type: string
                      group_model_multilevel: string
                      group_model_type: string
                      group_modeling_software: string
                      group_repeated_measures_method: string
                      hemodynamic_response_function: string
                      high_pass_filter_method: string
                      id: 0
                      inclusion_exclusion_criteria: string
                      interpolation_method: string
                      intersubject_registration_software: string
                      intrasubject_estimation_type: string
                      intrasubject_model_type: string
                      intrasubject_modeling_software: string
                      journal_name: string
                      length_of_trials: string
                      modify_date: string
                      motion_correction_interpolation: string
                      motion_correction_metric: string
                      motion_correction_reference: string
                      motion_correction_software: string
                      name: string
                      nonlinear_transform_type: string
                      number_of_images: 0
                      object_image_type: string
                      optimization_method: string
                      order_of_preprocessing_operations: string
                      orthogonalization_description: string
                      owner: 0
                      owner_name: ChrisFiloGorgolewski
                      paper_url: 'http://dx.plos.org/10.1371/journal.pone.0118733'
                      parallel_imaging: string
                      private: true
                      pulse_sequence: string
                      quality_control: string
                      scanner_make: string
                      scanner_model: string
                      slice_timing_correction_software: string
                      smoothing_type: string
                      software_package: string
                      software_version: string
                      target_template_image: string
                      transform_similarity_metric: string
                      url: 'https://neurovault.org/collections/1039/'
        '404':
          description: Study Not Found
      description: Get Study ID
    put:
      summary: ''
      responses:
        '200':
          description: OK
      description: Create/Update Study
      parameters: []
  /studies/:
    get:
      summary: Your GET endpoint
      tags:
        - studies
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: array
                items:
                  type: object
                  properties:
                    '@context':
                      type: object
                      properties:
                        '@vocab':
                          type: string
                    '@id':
                      type: string
                    '@type':
                      type: string
              examples:
                autogenerated example:
                  value:
                    - '@context':
                        '@vocab': string
                      '@id': string
                      '@type': string
      description: List all available studies
      parameters:
        - schema:
            type: string
          in: query
          name: search
        - schema:
            type: string
          in: query
          name: sort
        - schema:
            type: integer
          in: query
          name: page
        - schema:
            type: boolean
          in: query
          name: desc
        - schema:
            type: integer
          in: query
          name: page_size
    parameters: []
  /analyses/:
    get:
      summary: Your GET endpoint
      tags:
        - analyses
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/analysis'
      description: List all analyses performed across studies and datasets
      parameters:
        - schema:
            type: string
          in: query
          name: search
        - schema:
            type: string
          in: query
          name: sort
        - schema:
            type: integer
          in: query
          name: page
        - schema:
            type: boolean
          in: query
          name: desc
        - schema:
            type: integer
          in: query
          name: page_size
    parameters: []
  '/analyses/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags:
        - analyses
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/analysis'
      description: Information pertaining to a particular analysis within a study/dataset
  '/points/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags:
        - points
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/point'
              examples:
                autogenerated example:
                  value:
                    '@context':
                      '@vocab': string
                    '@id': string
                    '@type': Point
                    analysis: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
                    coordinates:
                      - 63
                      - 65
                      - 1
                    created_at: '2019-08-24T14:15:22Z'
                    space: UNKNOWN
                    kind: string
                    value:
                      - string
      description: Information about a particular MRI coordinate
  '/images/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags:
        - images
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/image'
            application/xml:
              schema:
                type: object
                properties: {}
      description: Retrieve information about a particular image from an analysis
  /images/:
    get:
      summary: Your GET endpoint
      tags:
        - images
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/image'
      description: Retrieve and list all images
      parameters:
        - schema:
            type: string
          in: query
          name: search
        - schema:
            type: string
          in: query
          name: sort
        - schema:
            type: integer
          in: query
          name: page
        - schema:
            type: boolean
          in: query
          name: desc
        - schema:
            type: integer
          in: query
          name: page_size
  '/conditions/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/condition'
      description: I do not rightly know (?)
components:
  schemas:
    dataset:
      title: dataset
      type: object
      description: ''
      x-examples:
        autogenerated example:
          name: string
          description: string
          publication: string
          doi: string
          pmid: string
          public: true
          nimads_data: {}
          user_id: string
          user: string
      properties:
        name:
          type: string
          description: Unique identifier for the given user.
        description:
          type: string
        publication:
          type: string
        doi:
          type: string
        pmid:
          type: string
        public:
          description: Set to true if the user's email has been verified.
          type: boolean
        nimads_data:
          format: date
          description: The date that the user was created.
          type: object
        user_id:
          type: string
        user:
          type: string
      required:
        - name
        - description
        - publication
        - public
    study:
      description: ''
      type: object
      title: ''
      x-examples:
        autogenerated example:
          '@id': 'http://neurostuff.org/api/studies/3SLFqPmGJVsC'
          '@type': Study
          analysis: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
          created_at: '2021-01-14T03:33:07.996179+00:00'
          doi: 10.1016/S0926-6410(97)00020-7
          name: 'Functional magnetic resonance imaging of category-specific cortical activation: evidence for semantic maps.'
          '@context':
            '@vocab': 'http://neurostuff.org/nimads/'
          metadata:
            DOI: string
            acquisition_orientation: string
            add_date: '2019-08-24T14:15:22Z'
            authors: string
            autocorrelation_model: string
            b0_unwarping_software: string
            communities:
              - null
            contributors: string
            description: string
            doi_add_date: '2019-08-24T14:15:22Z'
            download_url: 'http://example.com'
            full_dataset_url: 'http://example.com'
            functional_coregistration_method: string
            group_description: string
            group_estimation_type: string
            group_model_multilevel: string
            group_model_type: string
            group_modeling_software: string
            group_repeated_measures_method: string
            hemodynamic_response_function: string
            high_pass_filter_method: string
            id: 0
            inclusion_exclusion_criteria: string
            interpolation_method: string
            intersubject_registration_software: string
            intrasubject_estimation_type: string
            intrasubject_model_type: string
            intrasubject_modeling_software: string
            journal_name: string
            length_of_trials: string
            modify_date: string
            motion_correction_interpolation: string
            motion_correction_metric: string
            motion_correction_reference: string
            motion_correction_software: string
            name: string
            nonlinear_transform_type: string
            number_of_images: 0
            object_image_type: string
            optimization_method: string
            order_of_preprocessing_operations: string
            orthogonalization_description: string
            owner: 0
            owner_name: ChrisFiloGorgolewski
            paper_url: 'http://dx.plos.org/10.1371/journal.pone.0118733'
            parallel_imaging: string
            private: true
            pulse_sequence: string
            quality_control: string
            scanner_make: string
            scanner_model: string
            slice_timing_correction_software: string
            smoothing_type: string
            software_package: string
            software_version: string
            target_template_image: string
            transform_similarity_metric: string
            url: 'https://neurovault.org/collections/1039/'
      properties:
        '@id':
          type: string
          format: uri
          example: 'http://neurostuff.org/api/studies/3SLFqPmGJVsC'
        '@type':
          type: string
          example: Study
        analysis:
          anyOf:
            - type: string
              format: uri
              example: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
            - type: array
              items:
                type: string
                format: uri
          description: URL(s) to Analyses associated with the study
        created_at:
          type: string
          format: date-time
          example: '2021-01-14T03:33:07.996179+00:00'
          description: The time this study was ingested into the database
        doi:
          type: string
          example: 10.1016/S0926-6410(97)00020-7
          description: digital object identifier of the study
        name:
          type: string
          example: 'Functional magnetic resonance imaging of category-specific cortical activation: evidence for semantic maps.'
          description: title of the study
        '@context':
          type: object
          properties:
            '@vocab':
              type: string
              format: uri
              example: 'http://neurostuff.org/nimads/'
        metadata:
          type: object
          description: other metadata associated with the study
          properties:
            DOI:
              type: string
            acquisition_orientation:
              type: string
            add_date:
              type: string
              format: date-time
            authors:
              type: string
            autocorrelation_model:
              type: string
            b0_unwarping_software:
              type: string
            communities:
              type: array
              items: {}
            contributors:
              type: string
            description:
              type: string
            doi_add_date:
              type: string
              format: date-time
            download_url:
              type: string
              format: uri
            full_dataset_url:
              type: string
              format: uri
            functional_coregistration_method:
              type: string
            group_description:
              type: string
            group_estimation_type:
              type: string
            group_model_multilevel:
              type: string
            group_model_type:
              type: string
            group_modeling_software:
              type: string
            group_repeated_measures_method:
              type: string
            hemodynamic_response_function:
              type: string
            high_pass_filter_method:
              type: string
            id:
              type: integer
            inclusion_exclusion_criteria:
              type: string
            interpolation_method:
              type: string
            intersubject_registration_software:
              type: string
            intrasubject_estimation_type:
              type: string
            intrasubject_model_type:
              type: string
            intrasubject_modeling_software:
              type: string
            journal_name:
              type: string
            length_of_trials:
              type: string
            modify_date:
              type: string
            motion_correction_interpolation:
              type: string
            motion_correction_metric:
              type: string
            motion_correction_reference:
              type: string
            motion_correction_software:
              type: string
            name:
              type: string
            nonlinear_transform_type:
              type: string
            number_of_images:
              type: integer
            object_image_type:
              type: string
            optimization_method:
              type: string
            order_of_preprocessing_operations:
              type: string
            orthogonalization_description:
              type: string
            owner:
              type: integer
            owner_name:
              type: string
              example: ChrisFiloGorgolewski
            paper_url:
              type: string
              format: uri
              example: 'http://dx.plos.org/10.1371/journal.pone.0118733'
            parallel_imaging:
              type: string
            private:
              type: boolean
            pulse_sequence:
              type: string
            quality_control:
              type: string
            scanner_make:
              type: string
            scanner_model:
              type: string
            slice_timing_correction_software:
              type: string
            smoothing_type:
              type: string
            software_package:
              type: string
            software_version:
              type: string
            target_template_image:
              type: string
            transform_similarity_metric:
              type: string
            url:
              type: string
              format: uri
              example: 'https://neurovault.org/collections/1039/'
    analysis:
      title: analysis
      type: object
      x-examples:
        autogenerated example:
          '@context':
            '@vocab': string
          '@id': 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
          '@type': Analysis
          condition:
            - string
          created_at: '2021-01-14T03:33:07.996179+00:00'
          image:
            - 'http://example.com'
          name: '"20356"'
          point: 'http://neurostuff.org/api/points/3znXMsoGKBLZ'
          study: 'http://neurostuff.org/api/studies/3SLFqPmGJVsC'
          weight:
            - string
      properties:
        '@context':
          type: object
          description: JSON-LD header
          properties:
            '@vocab':
              type: string
              description: JSON-LD vocabulary
        '@id':
          type: string
          format: uri
          example: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
          description: JSON-LD term?
        '@type':
          type: string
          example: Analysis
          description: JSON-LD term?
        condition:
          anyOf:
            - type: array
              items:
                type: string
            - type: string
          description: I do not know what condition means
        created_at:
          type: string
          format: date-time
          example: '2021-01-14T03:33:07.996179+00:00'
          description: the time this analysis entry was added to the database.
        image:
          anyOf:
            - type: array
              items:
                type: string
                format: uri
            - type: string
              format: uri
          description: URL(s) pointing towards image endpoints
        name:
          type: string
          example: '"20356"'
        point:
          anyOf:
            - type: string
              format: uri
              example: 'http://neurostuff.org/api/points/3znXMsoGKBLZ'
              description: URL(s) linking to coordinate endpoints
            - type: array
              items:
                type: string
                format: uri
        study:
          type: string
          format: uri
          example: 'http://neurostuff.org/api/studies/3SLFqPmGJVsC'
        weight:
          type: array
          description: what is this?
          items:
            type: string
    point:
      title: point
      type: object
      x-examples:
        autogenerated example:
          '@context':
            '@vocab': string
          '@id': string
          '@type': Point
          analysis: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
          coordinates:
            - 63
            - 65
            - 1
          created_at: '2019-08-24T14:15:22Z'
          space: UNKNOWN
          kind: string
          value:
            - string
      properties:
        '@context':
          type: object
          properties:
            '@vocab':
              type: string
        '@id':
          type: string
        '@type':
          type: string
          example: Point
        analysis:
          type: string
          format: uri
          example: 'http://neurostuff.org/api/analyses/6kwPw6p79Ljm'
          description: URL to analysis endpoints that reference this point
        coordinates:
          type: array
          minItems: 3
          maxItems: 3
          description: location of the point
          items:
            type: number
            format: float
            example: 63
        created_at:
          type: string
          format: date-time
          description: time point was ingested into the database
          example: '2021-01-16T20:50:38.009318+00:00'
        space:
          type: string
          example: UNKNOWN
          description: template space used to determine coordinate
        kind:
          type: string
          description: I do not know what this is supposed to represent?
        value:
          type: array
          description: I do not know what this is supposed to represent?
          items:
            type: string
    image:
      title: image
      type: object
      description: ''
      properties:
        analysis:
          type: string
          format: uri
          example: 'http://neurostuff.org/api/analyses/7UvrsaALJU9g'
          description: URL to associated analysis this image is derived from
        metadata:
          type: object
          properties:
            add_date:
              type: string
              format: date-time
              example: '2019-01-29T03:16:36.866569Z'
              description: When the image was added
            analysis_level:
              type: string
              example: group
              description: whether the analysis was performed at group or participant level
            brain_coverage:
              type: number
              format: float
              example: 100
              maximum: 100
              minimum: 0
              description: percentage of the brain covered by the statistical map
            cognitive_paradigm_cogatlas:
              type: string
              example: 2-stage decision task
              description: The cognitive atlas paradigm name
            cognitive_paradigm_cogatlas_id:
              type: string
              example: trm_5667451917a34
              description: cognitive atlas paradigm unique id
            collection:
              type: string
              format: uri
              example: 'https://neurovault.org/collections/4778/'
              description: URL to the neurovault collection
            collection_id:
              type: integer
              example: 4778
              description: ID of the neurovault collection
            data_origin:
              type: string
              example: volume
              description: How the data was analyzed (volume or surface)
            description:
              type: string
              description: description of the image
            file:
              type: string
              format: uri
              example: 'https://neurovault.org/media/images/4778/Positive_RPEs_zstat.nii.gz'
              description: URL pointing to image file
            file_size:
              type: integer
              minimum: 0
              example: 838639
              description: size of the image file (in bytes)
            id:
              type: integer
              example: 113751
              description: neurovault ID of the image
            image_type:
              type: string
              example: statistic_map
              description: the type of data the image represents
            is_thresholded:
              type: boolean
              description: whether the image is thresholded
            is_valid:
              type: boolean
              description: whether the image is valid (what does valid mean?)
            map_type:
              type: string
              example: Z map
              description: type of map represented in image
            modality:
              type: string
              example: fMRI-BOLD
              description: type of data collected from the scanner
            modify_date:
              type: string
              format: date-time
              example: '"2019-01-29T03:19:10.274381Z"'
              description: time the image was modified
            name:
              type: string
              example: Positive RPEs
              description: name of the image
            not_mni:
              type: boolean
              description: whether the image is not in MNI space
            perc_bad_voxels:
              type: number
              format: float
              example: 75.5340233916703
              minimum: 0
              maximum: 100
              description: percentage of bad voxels (what makes voxels bad?)
            perc_voxels_outside:
              type: number
              format: float
              example: 100
              minimum: 0
              maximum: 100
              description: percentage of voxels outside the mask (maybe?)
            subject_species:
              type: string
              example: homo sapiens
              description: species the data was collected from
            surface_left_file:
              type: string
              format: uri
              example: 'https://neurovault.org/media/images/4778/113751.L.func.gii'
              description: URL to the left brain surface file
            surface_right_file:
              type: string
              format: uri
              description: URL to the right brain surface file
              example: 'https://neurovault.org/media/images/4778/113751.R.func.gii'
            target_template_image:
              type: string
              example: MNI152NLin2009cAsym
              description: target template the image was registered to
            thumbnail:
              type: string
              format: uri
              example: 'https://neurovault.org/media/images/4778/glass_brain_113751.jpg'
              description: thumbnail of the image
            type:
              type: string
            url:
              type: string
              format: uri
              description: neurovault URL to image endpoint
            cognitive_paradigm_description_url:
              type: string
              format: uri
              example: 'https://www.cognitiveatlas.org/concept/id/trm_5159c00c3dac3/'
              description: URL to specific cognitive atlas concept
            contrast_definition:
              type: string
            reduced_representation:
              type: string
              example: 'https://neurovault.org/media/images/4778/transform_4mm_113751.npy'
              description: URL to the image converted to a numpy array
        add_date:
          type: string
          format: date-time
        '@id':
          type: string
        '@type':
          type: string
        '@context':
          type: object
          properties:
            '@vocab':
              type: string
        url:
          type: string
          format: uri
          example: 'https://neurovault.org/media/images/4778/Positive_RPEs_zstat.nii.gz'
          description: URL to image file
        filename:
          type: string
          example: Positive_RPEs_zstat.nii.gz
          description: name of the image file
        space:
          type: string
          example: unknown
          description: the template space the image is in
        value_type:
          type: string
          example: Z
          description: The values the image represents
        analysis_name:
          type: string
          example: Positive RPEs
          description: name of the analysis
      x-examples:
        autogenerated example:
          analysis: 'http://neurostuff.org/api/analyses/7UvrsaALJU9g'
          metadata:
            add_date: '2019-01-29T03:16:36.866569Z'
            analysis_level: group
            brain_coverage: 100
            cognitive_paradigm_cogatlas: 2-stage decision task
            cognitive_paradigm_cogatlas_id: trm_5667451917a34
            collection: 'https://neurovault.org/collections/4778/'
            collection_id: 4778
            data_origin: volume
            description: string
            file: 'https://neurovault.org/media/images/4778/Positive_RPEs_zstat.nii.gz'
            file_size: 838639
            id: 113751
            image_type: statistic_map
            is_thresholded: true
            is_valid: true
            map_type: Z map
            modality: fMRI-BOLD
            modify_date: '"2019-01-29T03:19:10.274381Z"'
            name: Positive RPEs
            not_mni: true
            perc_bad_voxels: 75.5340233916703
            perc_voxels_outside: 100
            subject_species: homo sapiens
            surface_left_file: 'https://neurovault.org/media/images/4778/113751.L.func.gii'
            surface_right_file: 'https://neurovault.org/media/images/4778/113751.R.func.gii'
            target_template_image: MNI152NLin2009cAsym
            thumbnail: 'https://neurovault.org/media/images/4778/glass_brain_113751.jpg'
            type: string
            url: 'http://example.com'
            cognitive_paradigm_description_url: 'https://www.cognitiveatlas.org/concept/id/trm_5159c00c3dac3/'
            contrast_definition: string
            reduced_representation: 'https://neurovault.org/media/images/4778/transform_4mm_113751.npy'
          add_date: '2019-08-24T14:15:22Z'
          '@id': string
          '@type': string
          '@context':
            '@vocab': string
          url: 'https://neurovault.org/media/images/4778/Positive_RPEs_zstat.nii.gz'
          filename: Positive_RPEs_zstat.nii.gz
          space: unknown
          value_type: Z
          analysis_name: Positive RPEs
    condition:
      title: condition
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        '@context':
          type: object
          properties:
            '@vocab':
              type: string
        '@id':
          type: string
        '@type':
          type: string
      x-examples:
        autogenerated example:
          name: string
          description: string
          '@context':
            '@vocab': string
          '@id': string
          '@type': string
  responses: {}
  parameters: {}
tags:
  - name: analyses
  - name: datasets
  - name: images
  - name: points
  - name: studies
